<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dream Agent — Symbols In Motion</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root { --glass: rgba(255,255,255,0.06); }
    body {
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      color: white;
      background:
        radial-gradient(1200px 600px at 20% 0%, rgba(255,255,255,0.05), transparent),
        linear-gradient(180deg, rgba(70, 25, 13, 0.85), rgba(84, 30, 15, 0.75)),
        url('../img/even_larger_about_background.png') center/cover no-repeat;
    }
    .serif{ font-family:"Playfair Display", Georgia, serif; }
    .panel{ background: rgba(255,255,255,.05); backdrop-filter: blur(6px); box-shadow: inset 0 1px 0 0 var(--glass); }

    @keyframes auraPulse {
      0%, 100% { box-shadow: 0 0 0 0 var(--aura, transparent); }
      50%      { box-shadow: 0 0 14px 3px var(--aura, transparent); }
    }

       .market-btn {
      position: relative;
      display: inline-grid;
      place-items: center;
      border-radius: 9999px;
      transition: transform .25s ease, box-shadow .25s ease, filter .25s ease;
      animation: none; /* disable old pulse */
      isolation: isolate; /* keep glow behind */
    }

    /* GLOW AURA LAYER (behind the icon) */
    .market-btn::before {
      content: "";
      position: absolute;
      inset: -6px; /* aura spread */
      border-radius: inherit;
      background: radial-gradient(60% 60% at 50% 50%,
                  rgba(255,255,255,.35),
                  rgba(0,87,184,.18) 55%,
                  rgba(255,255,255,0) 100%);
      filter: blur(10px);
      opacity: 0; /* hidden until hover */
      transition: opacity .25s ease, transform .25s ease;
      z-index: 0;
    }

    /* TOOLTIP LAYER (existing behavior) */
    .market-btn::after {
      content: attr(data-label);
      position: absolute;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      white-space: nowrap;
      bottom: -2.2rem;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.75rem;
      color: rgba(255,255,255,0);
      background: rgba(0,0,0,0.4);
      padding: 2px 8px;
      border-radius: 6px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease, color 0.3s ease;
      z-index: 2;
    }

    /* IMAGE INSIDE BUTTON */
    .market-btn img {
      position: relative;
      z-index: 1;
      width: 36px;
      height: 36px;
      border-radius: 9999px;
      box-shadow: 0 0 0 1px rgba(255,255,255,.18);
      transition: transform .25s ease, filter .25s ease, box-shadow .25s ease;
    }

    /* HOVER STATE — Glow + Lift + Tooltip */
    .market-btn:hover::before {
      opacity: .6;
      transform: scale(1.08);
    }

    .market-btn:hover img {
      transform: translateY(-1px) scale(1.05);
      filter: drop-shadow(0 0 12px rgba(255,255,255,.55));
      box-shadow:
        0 0 0 1px rgba(255,255,255,.25),
        0 6px 18px rgba(0,0,0,.28);
    }

    /* Tooltip visible on hover */
    .market-btn:hover::after {
      opacity: 1;
      color: rgba(255,255,255,0.85);
    }

    #sidebarList {
      scroll-behavior: smooth;
    }

    /* Match scrollbar color to row ring */
    #sidebarList::-webkit-scrollbar {
      width: 6px;
    }

    #sidebarList::-webkit-scrollbar-thumb {
      background-color: rgba(255,255,255,0.4);  /* same as ring-white/40 */
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.25); /* faint edge definition */
    }

    #sidebarList:hover::-webkit-scrollbar-thumb {
      background-color: rgba(255,255,255,0.5);  /* slightly brighter on hover */
    }

    #sidebarList::-webkit-scrollbar-track {
      background-color: transparent;            /* remove gray background */
    }

      /* --- Footer icon glow (Dream Agent) --- */
    .footer-icons .icon-wrap {
      position: relative;
      display: inline-grid;
      place-items: center;
      border-radius: 9999px;
      isolation: isolate;               /* keep glow behind the icon */
    }

    .footer-icons .icon-wrap::after {
      content: "";
      position: absolute;
      inset: -6px;                      /* size of aura spread */
      border-radius: inherit;
      /* white core with a whisper of Dream Agent blue */
      background: radial-gradient(60% 60% at 50% 50%,
                  rgba(255,255,255,.35),
                  rgba(0,87,184,.18) 55%,
                  rgba(255,255,255,0) 100%);
      filter: blur(10px);
      opacity: .40;                     /* idle aura */
      transition: opacity .25s ease, transform .25s ease, filter .25s ease;
      z-index: 0;                       /* behind the icon */
    }

     /* Soft pulse (dreamlike) */
    @keyframes daAuraPulse {
    0%, 100% { opacity: .22; transform: scale(1);   filter: blur(10px); }
    50%      { opacity: .38; transform: scale(1.05); filter: blur(12px); }
    }

    /* Respect user preference */
    @media (prefers-reduced-motion: no-preference) {
    .footer-icons .icon-wrap[data-pulse]::after {
        animation: daAuraPulse 4.5s ease-in-out infinite;
    }
    }

    /* Icon itself: crisp with a faint ring */
    .footer-icons img.footer-icon {
    position: relative;
    z-index: 1;
    width: 34px; height: 34px;        /* your sizes; keep round */
    border-radius: 9999px;
    box-shadow:
        0 0 0 1px rgba(255,255,255,.18); /* hairline ring */
    transition: transform .2s ease, box-shadow .25s ease, filter .25s ease;
    }

    /* Hover / focus: lift + stronger glow */
    .footer-icons .icon-wrap:hover::after,
    .footer-icons .icon-wrap:focus-within::after {
    opacity: .6;
    transform: scale(1.06);
    }

    .footer-icons .icon-wrap:hover img.footer-icon,
    .footer-icons .icon-wrap:focus-within img.footer-icon {
    transform: translateY(-1px) scale(1.04);
    filter: drop-shadow(0 0 12px rgba(255,255,255,.55));
    box-shadow:
        0 0 0 1px rgba(255,255,255,.26),
        0 6px 18px rgba(0,0,0,.28);
    }

    /* --- No scrollbar class for horizontal scroller (OTHER COLLECTIONS) --- */
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

  </style>

  <!-- put this in <head> after Tailwind -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
</head>

<!-- The ACTUAL PAGE -->
<body class="min-h-screen">
  <header class="max-w-6xl mx-auto px-4 pt-6">
    <nav class="text-white/70 text-sm mb-4 flex items-center justify-between">
  <!-- Back to Collections -->
  <a href="../index.html#mobile_about" class="flex items-center text-white/70 hover:text-white transition">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
    </svg>
    Back to Collections
  </a>

  <!-- Next Collection -->
  <!-- <a href="./industrial.html" class="flex items-center text-white/70 hover:text-white transition">
    Next Collection
    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
    </svg>
  </a> -->
</nav>

  </header>

  <!-- COLLECTION HEADER -->
   <div class="max-w-6xl mx-auto px-4 sticky top-0 z-50 lg:static lg:top-auto lg:z-auto">
     <div class="panel rounded-2xl p-4 sm:p-6 flex items-start gap-4 ">
      <img src="../img/collections/War and Feast.png" alt="collections" class="h-16 w-16 sm:h-20 sm:w-20 lg:h-16 lg:w-16 rounded-full ring-1 ring-white/20">
      <div class="flex flex-col gap-0">
          <h1 class="serif text-xl sm:text-2xl font-semibold leading-tight">War and Feast</h1>
          <div class="flex flex-col lg:flex-row lg:items-center lg:gap-0">
          <p class="text-white/80 text-sm mt-1 lg:mt-0">Conflict, appitite and ceremonial access</p>
          <p class="text-white/80 text-sm lg:ml-4">
          <span class="opacity-90">4 Works</span> • <span class="opacity-90">2017–2025</span>
        </p>
      </div>
        <!-- <p class="text-white/85 text-sm mt-3 max-w-3xl">A cabinet of moving emblems—objects that migrate between memory and myth, pausing just long enough to be seen.</p> -->
      </div>
    </div>
   </div>

  <!-- Main Grid -->
  <main class="max-w-6xl mx-auto px-4 pb-20 pt-8 grid grid-cols-1 lg:grid-cols-12 gap-8">
    <!-- Artwork column -->
    <section class="lg:col-span-7">
      <article class="panel rounded-2xl px-4 sm:px-6 pt-2 sm:pt-4 pb-8 -mt-2">
        <!-- Artwork title -->
        <h2 id="artTitle" class="serif text-lg sm:text-lg md:text-xl mb-3"></h2>


        <!-- Image viewer -->
        <figure class="relative overflow-hidden rounded-2xl bg-black/50  
               h-[300px] sm:h-[300px] lg:h-[400px]  
               flex items-center justify-center">
          <img id="artImg" 
              src="" 
              alt="" 
              class="max-h-full max-w-full object-contain transition-transform duration-500 ease-out">
          
          <!-- arrows -->
          <button id="prevBtn" aria-label="Previous" 
            class="absolute top-1/2 -translate-y-1/2 left-2 sm:left-3 
                  w-10 h-10 flex items-center justify-center 
                  rounded-full bg-black/40 hover:bg-black/55 
                  ring-1 ring-white/30 transition text-lg">
            ‹
          </button>

          <button id="nextBtn" aria-label="Next" 
            class="absolute top-1/2 -translate-y-1/2 right-2 sm:right-3 
                  w-10 h-10 flex items-center justify-center 
                  rounded-full bg-black/40 hover:bg-black/55 
                  ring-1 ring-white/30 transition text-lg">
            ›
          </button>
        </figure>


        <!-- Meta -->
        <div id="artMeta" class="mt-4 flex flex-wrap items-center gap-2 text-white/85 text-sm">
          <span>2024</span><span>•</span><span>Digital-Oil-style</span><span>•</span><span>Surreal</span>
        </div>

        <!-- Description -->
        <p id="artDesc" class="mt-4 text-[15px] leading-7 text-white/90">
          This surreal composition by Dream Agent presents an oven labeled Prosperity as an altar of permanence…
        </p>

     <!-- CTA buttons -->
      <div class="mt-10 flex items-center gap-3 flex-wrap">
        <!-- View Full Size (no glow, same border as unlockable) -->
        <a
          class="inline-flex items-center justify-center rounded-full px-5 py-3 text-sm font-semibold text-white
                bg-white/10 border border-white/20 ring-0 shadow-none transition-colors
                hover:bg-white/15 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#133B70]
                active:translate-y-[1px] cursor-default md:cursor-pointer">
                View Full Size
        </a>


        <!-- Marketplace icons inline with the button (no glow) -->
        <div class="flex items-center gap-2 flex-nowrap">
          
          <!-- <p class="text-white/80 text-[12px]">View on:</p> -->
          <!-- XRP Café -->
            <a id="xrpBtn" target="_blank" href="https://xrp.cafe/collection/dreamagent7" data-label="XRP Café"
              class="market-btn inline-flex items-center justify-center w-10 h-10 rounded-full
              border border-white/20 ring-0 shadow-none
              hover:border-white/30 transition">
              <img src="../img/round_logos/xrpcafe_circle.png" alt="xrpcafe"
              class="w-9 h-9 rounded-full object-cover">
            </a>
            <!-- <p class="text-white/80 text-[9px]">XRP Cafe</p> -->


          <!-- OpenSea -->
          <a id="osBtn" href="#" data-label="OpenSea"
             class="market-btn inline-flex items-center justify-center w-10 h-10 rounded-full
                    border border-white/20 ring-0 shadow-none
                    hover:border-white/30 transition">
                <img src="../img/round_logos/opensea_circle.png" alt="opensea"
                class="w-9 h-9 rounded-full object-cover">
          </a>
           <!-- <p class="text-white/80 text-[9px]">OpenSea</p> -->

          <!-- SuperRare -->
          <a id="srBtn" href="#" data-label="SuperRare"
            class="market-btn inline-flex items-center justify-center w-10 h-10 rounded-full
                    border border-white/20 ring-0 shadow-none
                    hover:border-white/30 transition">
            <img src="../img/round_logos/superrare_circle.png" alt="superrare"
                class="w-9 h-9 rounded-full object-cover">
          </a>
           <!-- <p class="text-white/80 text-[9px]">SuperRare</p> -->
        </div>
      </div>
      </article>
    </section>

    <!-- Sidebar -->
    <aside class="lg:col-span-5">
      <div class="panel rounded-2xl p-4 sm:p-6 lg:sticky lg:top-8">
        <h3 class="serif text-lg sm:text-xl mb-4">All works in this collection</h3>
        <div id="sidebarList"
            class="space-y-2 pl-2 pr-2 py-1 max-h-[28rem] overflow-y-auto
            scrollbar-thin scrollbar-thumb-white/40 scrollbar-track-transparent
            hover:scrollbar-thumb-white/50 rounded-xl">
            <!-- JS builds this list --> 
        </div>
         <!-- Other Collections: horizontal strip with thumbs + arrows -->
        <div id="otherCollectionsStrip" class="mt-4 overflow-hidden">
          <h3 class="serif text-base sm:text-lg mb-2">Other collections</h3>

          <div class="relative">
            <!-- gradient edges -->
            <div class="pointer-events-none absolute inset-y-0 left-0 w-10 bg-gradient-to-r from-black/40 to-transparent z-10"></div>
            <div class="pointer-events-none absolute inset-y-0 right-0 w-10 bg-gradient-to-l from-black/40 to-transparent z-10"></div>

            <!-- arrows -->
            <button id="ocPrev"
                    aria-label="Scroll left"
                    class="absolute left-1 top-1/2 -translate-y-1/2 z-20
                          w-8 h-8 rounded-full bg-black/40 ring-1 ring-white/30
                          hover:bg-black/55 transition flex items-center justify-center">
              ‹
            </button>
            <button id="ocNext"
                    aria-label="Scroll right"
                    class="absolute right-1 top-1/2 -translate-y-1/2 z-20
                          w-8 h-8 rounded-full bg-black/40 ring-1 ring-white/30
                          hover:bg-black/55 transition flex items-center justify-center">
              ›
            </button>

            <!-- one-line scroller -->
            <div id="ocScroller"
                class="flex items-center gap-2 sm:gap-3 overflow-x-auto whitespace-nowrap no-scrollbar
                        snap-x snap-mandatory px-2 py-1">
              <!-- JS injects cards -->
            </div>
          </div>
        </div> 
      </div>
    </aside>
  </main>

  <!-- FOOTER -->
  <footer class="mt-10 bg-white/5">
    <div class="max-w-6xl mx-auto px-4 py-20 sm:pt-12 rounded-xl">
      <div class="flex flex-col sm:flex-row items-center justify-between gap-4 sm:gap-6">
   
            <div class="text-center sm:text-left">
            <p class="text-white/80 text-sm font-bold serif">No face. No fame. Just the vision.</p>
            </div>
            <!-- logos moved next to the text and tightened gap -->
            <div class="footer-icons flex items-center gap-3">
            <span class="icon-wrap" data-pulse>
            <img src="../img/logos/DreamAgent Logo 11.png" alt="Dream Agent" class="footer-icon" width="44" height="44">
            </span>
            <a target="_blank" href="https://x.com/dream_agent7" aria-label="Twitter" class="icon-wrap" data-pulse title="Twitter">
              <img src="./img/round_logos/twitter_black_circle.png" alt="Twitter" class="footer-icon">
            </a>
            <a target="_blank" href="https://sora.chatgpt.com/profile/dreamagent7" aria-label="Sora" class="icon-wrap" data-pulse title="Sora">
              <img src="./img/round_logos/Sora.png" alt="Sora" class="footer-icon">
            </a>
            <a target="_blank" href="https://www.instagram.com/dream.agent7/" aria-label="Instagram" class="icon-wrap" data-pulse title="Instagram">
              <img src="./img/round_logos/instagram_red_circle.png" alt="Instagram" class="footer-icon">
            </a>
            <a target="_blank" href="https://bsky.app/profile/dreamagent7.bsky.social" aria-label="Bluesky" class="icon-wrap" data-pulse title="Bluesky">
              <img src="./img/round_logos/bluesky_liteblue_circle.png" alt="Bluesky" class="footer-icon">
            </a>
            <a target="_blank" href="https://www.tiktok.com/@dream_agent7" aria-label="TikTok" class="icon-wrap" data-pulse title="TikTok">
              <img src="./img/round_logos/tiktok_black_circle.png" alt="TikTok" class="footer-icon">
            </a>
         </div>
       
         
         <!-- right group: copyright / attribution -->
        <div class="flex flex-col items-center gap-2 text-xs text-white/30">
          <p>© 2025 Dream Agent. All rights reserved.</p>
          <!-- <p class="flex items-center gap-1">
            <img src="../img/round_logos/Courdevelops.svg" alt="CourDevelops logo" class="w-6 h-6 opacity-30" width="16" height="16">
            Powered by CourDevelops
          </p> -->
        </div>
      </div>
    </div>
  </footer>

  <script>
  // ALL THE PICTURES & DATA
  ////////////////////////////////////////////////////////////////////////////////////////////
  ////////////////////////////////////////////////////////////////////////////////////////////
  ////////////////////////////////////////////////////////////////////////////////////////////
  ////////////////////////////////////////////////////////////////////////////////////////////
  ////////////////////////////////////////////////////////////////////////////////////////////
  const works = [
    // MAMMON STADIUM
    { title:"Mammon Stadium", year:"2025", style:"Oil-style",
      tags:["bugs","gold"],
      img:"../pictures/Mammon Stadium.png",
      desc:[
        "In 'Mammon Stadium', Dream Agent transforms the ancient coliseum into a financial amphitheater. The golden statue of Mammon towers above the fray, bathed in divine light, as gladiatorial bugs scuttle across a hockey-lined battlefield littered with pills. The crowd is not flesh but wealth itself—coins, bills, and symbols of capital—stacked into seats of power.", 
        "The arena becomes a surreal merger of sport, empire, addiction, and currency, where spectatorship is measured in monetary presence rather than human eyes.", 
        "This painting interrogates the rituals of modern finance and consumption, presenting the spectacle of wealth as both entertainment and domination.",
      ],
      links:{ xrp:"#", os:"#", sr:"#"}
    },
    // TATARIAN STANDARD DELUXE
    { title:"The Wine Wars", year:"2023", style:"Oil-style",
      tags:["cave","bacteria"],
      img:"../pictures/The Wine Wars.png",
      desc:[
         "'The Wine Wars' is a surreal meditation on conflict, culture, and value. A winding river carves through a cavernous landscape, separating two opposing forces: primal microscopic organisms locked in an endless struggle, and a garden where golden coins bloom like living flora. A solitary glass sits empty, a silent witness to the chaos and creation unfolding. Above, a speaker looms—echoing voices of past and future battles.",
         "This piece fuses mythology, economics, and microbiology into one scene, exploring how consumption, nature, and technology intertwine in humanity's pursuit of meaning and wealth.",
      ],
      links:{ xrp:"#", os:"#", sr:"#"}
    },
    // COEUR OF THE GRAPES
    { title:"Coeur of the Grapes", year:"2025", style:"Oil-style",
      tags:["heart","river"],
      img:"../pictures/Coeur of the Grapes.png",
      desc:[
         "'Coeur of the Grapes' is a surreal celebration of romance, indulgence, and the fragile infrastructure of desire. In this evocative composition, a monumental human heart towers over a vineyard town, pumping rich, cerulean rivers through a sun-scorched landscape. At the forefront, a woman dressed in red smiles with closed eyes, glass of sparkling wine in hand, as a disembodied hand rests on her shoulder — a gesture at once intimate and ambiguous.",
         "This piece plays on the French word 'coeur' (heart) and the ancient symbolism of wine as both communion and seduction. The arteries feeding the land suggest a circulatory system of love and control, while the woman’s radiant joy hints at either blissful ignorance or deep satisfaction.",
         "A hypnotic blend of anatomical realism and classic oil-style glamour, 'Coeur of the Grapes' is a study in beauty, power, and what we choose to celebrate — even as we’re consumed by it."
      ],
      links:{ xrp:"#", os:"#", sr:"#"}
    },
    // THE ASYMETRICAL JAYSE
    { title:"The Asymetrical Jayse", year:"2025", style:"Oil-style",
      tags:["desert","spaghetti"],
      img:"../pictures/The Asymmetrical Jayse.png",
      desc:[
        "'The Asymmetrical Jayse' bends the domestic into the mythic. Two figures consume spaghetti not as a meal, but as an allegory—one upright, disciplined, with galactic eyes veiled in the night sky, the other crouched, primal, with geometric lenses of surveillance. Between them rises the green pyramid of 'Strategy Wood', a mountain of calculation standing in stark contrast to the desert plain. This piece plays on hierarchy, asymmetry, and the rituals of consumption—both of food and of systems.",
        "It asks: who eats with a fork, and who eats from the ground? Who climbs Strategy Wood, and who becomes part of its base?",
        ],
      links:{ xrp:"#", os:"#", sr:"#"}
    },
    // SOME THINGS WERE MEANT TO LAST FOREVER
    { title:"Some things were meant to last forever", year:"2025", style:"Oil-style",
      tags:["spy","birds"],
      img:"../pictures/Some things were meant to last forever.png",
      desc:[
        "This surreal composition by Dream Agent presents an oven labeled Prosperity as an altar of permanence, where iconic cathedrals and basilicas from around the world rise like delicacies atop silver cake stands.",
        "Each structure — intricate, fragile, historic — floats in a domestic kitchen space, blurring the line between the sacred and the mundane. In this world, spiritual and cultural grandeur is both preserved and 'baked in,' as if civilization itself is something to be curated and cared for at home.",
        "The scene asks: What are we preserving? What do we consume? And what—if anything—transcends time? An homage to heritage, architecture, and memory, this painting is a quiet meditation on legacy in an age of impermanence."
        ],
      links:{ xrp:"#", os:"#", sr:"#"}
    },
  ];

   const OTHER_COLLECTIONS = [
        {
          title: "Symbols In Motion",
          href: "../test_collections.html",
          img: "./img/collections/Symbols in Motion.png",
          count: 6,
          years: "2020–2025"
        },
        {
          title: "Signals & Ascensions",
          href: "./collections/signals.html",
          img: "./img/collections/Signals and Ascensions.png",
          count: 6,
          years: "2020–2025"
        },
        {
          title: "The Digital Unconscious",
          href: "./collections/digital.html",
          img: "./img/collections/Digital Unconscious.png",
          count: 7,
          years: "2019–2025"
        },
        {
          title: "Industrial Myths",
          href: "./collections/industrial.html",
          img: "./img/collections/Industrial Myths.png",
          count: 5,
          years: "2018–2024"
        },
        {
          title: "Dominion Archive",
          href: "./collections/dominion.html",
          img: "./img/collections/Dominion Archives.png",
          count: 9,
          years: "2017–2024"
        }
      ];

      // Build the Other Collections strip
        (function renderOtherCollectionsStrip() {
          const wrap  = document.getElementById("ocScroller");
          const prev  = document.getElementById("ocPrev");
          const next  = document.getElementById("ocNext");
          if (!wrap || !prev || !next) return;

          // Normalize title to exclude current collection (ignore leading "the")
          const norm = s => (s || "").toLowerCase().replace(/^the\s+/, "").trim();
          const currentCollectionName =
            norm(document.querySelector("h1.serif")?.textContent || "");

          // Fix relative paths (this page uses ../ for images/links)
          const items = (OTHER_COLLECTIONS || [])
            .filter(c => norm(c.title) !== currentCollectionName)
            .map(c => ({
              ...c,
              href: (c.href || "").replace("./collections/", "../collections/"),
              img:  (c.img  || "").replace("./img/", "../img/")
            }));

              function normalizeHref(h) {
      if (!h) return '#';
      return h.replace('/collections/', '/collectons/').replace('./collections/', './collectons/').replace('../collections/', '../collectons/');
    }

    // Build cards
    wrap.innerHTML = items.map(c => {
      const href = normalizeHref(c.href || '#');
      return `
        <a href="${href}"
          class="group inline-flex items-center gap-3 rounded-xl
                  ring-1 ring-white/15 bg-white/5
                  hover:bg-white/10 hover:ring-white/30 transition
                  snap-start pr-3">
          <span class="block h-14 w-24 sm:h-16 sm:w-28 overflow-hidden rounded-l-xl">
            <img src="${c.img}" loading="lazy" alt="${c.title}" class="h-full w-full object-cover">
          </span>
          <span class="flex items-baseline gap-2 pr-1">
            <span class="serif text-sm sm:text-base">${c.title}</span>
            <span class="text-[11px] text-white/70">· ${c.count}</span>
          </span>
        </a>
      `;
    }).join("");

          // Arrow + scroll behavior
          const SCROLL_STEP = () => Math.max(200, Math.floor(wrap.clientWidth * 0.8));
          const scrollByDir = dir => wrap.scrollBy({ left: dir * SCROLL_STEP(), behavior: 'smooth' });

          prev.addEventListener('click', () => scrollByDir(-1));
          next.addEventListener('click', () => scrollByDir(1));

          // Mouse wheel → horizontal scroll
          wrap.addEventListener('wheel', (e) => {
            if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
              wrap.scrollLeft += e.deltaY * 0.9;
              e.preventDefault();
            }
          }, { passive: false });

          // Enable/disable arrows at ends
          function updateArrows() {
            const max = wrap.scrollWidth - wrap.clientWidth - 1;
            const left = wrap.scrollLeft;
            const atStart = left <= 0;
            const atEnd   = left >= max;
            prev.disabled = atStart; next.disabled = atEnd;
            prev.classList.toggle('opacity-40', atStart);
            next.classList.toggle('opacity-40', atEnd);
          }
          wrap.addEventListener('scroll', updateArrows, { passive: true });
          window.addEventListener('resize', updateArrows);

          // Keyboard support
          wrap.setAttribute('tabindex', '0');
          wrap.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') { scrollByDir(1); e.preventDefault(); }
            if (e.key === 'ArrowLeft')  { scrollByDir(-1); e.preventDefault(); }
          });

          // Optional entrance animation
          if (window.gsap) {
            gsap.from("#ocScroller a", { opacity: 0, y: 4, duration: 0.3, ease: "power2.out", stagger: 0.03 });
          }

          updateArrows();
        })();

  // ---- Elements ----
  let current = 0, switching = false;
  const artImg   = document.getElementById("artImg");
  const artTitle = document.getElementById("artTitle");
  const artMeta  = document.getElementById("artMeta");
  const artDesc  = document.getElementById("artDesc");
  const xrpBtn   = document.getElementById("xrpBtn");
  const osBtn    = document.getElementById("osBtn");
  const srBtn    = document.getElementById("srBtn");

  function paragraphsHTML(desc) {
  const arr = Array.isArray(desc) ? desc : [desc || ""];
  const normalize = s => s.replace(/\s*—\s*/g,"—").replace(/\s{2,}/g," ").trim();
  const body = arr.map(p => `<p class="mb-5">${normalize(p)}</p>`).join("");
  const unlockable = `
      <div class="flex items-center gap-3 bg-white/10 border border-white/20 rounded-xl p-3">
        <svg xmlns="http://www.w3.org/2000/svg" 
            viewBox="0 0 24 24" 
            fill="currentColor" 
            class="w-6 h-6 opacity-90 mt-0.5 flex-shrink-0">
          <path d="M12 1.5a5.25 5.25 0 00-5.25 5.25v2.25H6a3 3 0 00-3 3v6.75A3.75 3.75 0 006.75 22.5h10.5A3.75 3.75 0 0021 18.75V12a3 3 0 00-3-3h-.75V6.75A5.25 5.25 0 0012 1.5zm-2.25 5.25A2.25 2.25 0 0112 4.5a2.25 2.25 0 012.25 2.25V9H9.75V6.75z"/>
        </svg>
        <p class="text-xs text-white/70">
          Unlockable content: High-resolution master file + audio commentary.
        </p>
      </div>
    `;
  return body + unlockable;
}


  // Respect reduced motion
  const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  const animate = (el, from, to, dur = 0.5) => {
    if (prefersReduced) { gsap.set(el, to); return; }
    gsap.fromTo(el, from, { ...to, duration: dur, ease: "power2.out" });
  };

  // Preload helper
  function preload(src) {
    return new Promise((resolve, reject) => {
      const i = new Image();
      i.decoding = "async";
      i.loading = "eager";
      i.src = src;
      i.onload = () => resolve(i);
      i.onerror = reject;
    });
  }

  // Render with crossfade/scale
  async function renderWork(i){
    if (switching) return;
    switching = true;

    // artTitle.textContent = w.title || "";
    // // ensure it’s visible before the enter animation kicks in
    // gsap.set(artTitle, { opacity: 1, y: 0 });   // <- add this line

    const w = works[i];
    // Disable nav while animating
    document.getElementById("prevBtn").disabled = true;
    document.getElementById("nextBtn").disabled = true;

    // Fade out current image/content
    animate(artImg, {opacity:1, scale:1}, {opacity:0, scale:0.98}, 0.18);
    animate([artTitle, artMeta, artDesc], {opacity:1, y:0}, {opacity:0, y:6}, 0.18);

    try {
      const img = await preload(w.img);

      // Swap content
      // Swap content
      artImg.src = img.src;
      artTitle.textContent = w.title || "";
      artMeta.innerHTML = `<span>${w.year||""}</span><span>•</span><span>${w.style||""}</span>`;
      artDesc.innerHTML = paragraphsHTML(w.desc);
      xrpBtn.href = w.links?.xrp || "#";
      osBtn.href  = w.links?.os  || "#";
      srBtn.href  = w.links?.sr  || "#";

      // artImg.src = img.src;
      // artTitle.textContent = w.title;
      // artMeta.innerHTML = `<span>${w.year}</span><span>•</span><span>${w.style}</span>`;
      // artDesc.textContent = w.desc;
      // xrpBtn.href = w.links.xrp; osBtn.href = w.links.os; srBtn.href = w.links.sr;

      // Animate in
      animate(artImg, {opacity:0, scale:0.985}, {opacity:1, scale:1}, 0.4);
      animate([artTitle, artMeta, artDesc], {opacity:0, y:6}, {opacity:1, y:0}, 0.35);
    } catch (e) {
      console.error("Image failed to load:", e);
    } finally {
      document.getElementById("prevBtn").disabled = false;
      document.getElementById("nextBtn").disabled = false;
      switching = false;
    }

    // Keep sidebar highlight in
    syncActiveHighlight();


    // Preload the next image opportunistically
    const nextIndex = (i + 1) % works.length;
    preload(works[nextIndex].img).catch(()=>{});

    artDesc.innerHTML = paragraphsHTML(w.desc);
  }

  // Build sidebar (with lazy thumbs)
// ===== helpers =====
const sidebar = document.getElementById("sidebarList");   // desktop stacked list container
const mobileStrip = document.getElementById("mobileStrip"); // optional: mobile horizontal strip

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
//CHANGE HERE
// Active highlight for just the thumbnail box
// so basically you are setting them all to have a tailwind ring 
// const THUMB_ACTIVE = ["ring-2","ring-blue-400","ring-offset-2","ring-offset-black/30"];
// Full-row highlight ring (even border) + soft background
const ROW_ACTIVE = [
  "ring-1",            // stronger than base ring
  "ring-white/60",     // clearer contrast
  "ring-offset-1",
  "ring-offset-transparent",
  "bg-white/10"        // subtle lift
];




// const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

function highlightActive(workId) {
  // remove highlight from all rows
  const allRows = document.querySelectorAll('.work-link');
  allRows.forEach(el => el.classList.remove(...ROW_ACTIVE));

  // add highlight to active row(s)
  const activeRows = document.querySelectorAll(`.work-link[data-work-id="${workId}"]`);
  activeRows.forEach(el => {
    el.classList.add(...ROW_ACTIVE);

    // smooth pop-in on selection
    if (!prefersReduced && window.gsap) {
      gsap.killTweensOf(el);
      gsap.fromTo(
        el,
        { scale: 0.985 },
        { scale: 1, duration: 0.22, ease: "power2.out" }
      );
    }
  });
}

// Sync highlight and scroll sidebar
function syncActiveHighlight() {
  const id = toId(works[current].title, current);
  highlightActive(id);

  // Only nudge the sidebar into view on desktop
  const isDesktop = window.matchMedia('(min-width: 1024px)').matches;
  if (isDesktop) {
    const row = document.querySelector(`.work-link[data-work-id="${id}"]`);
    row?.scrollIntoView({ block: 'nearest', inline: 'nearest', behavior: 'smooth' });
  }
}




// Active highlight utility
// const ACTIVE_CLASSES = ["ring-1","ring-blue-400","bg-white/10"];
// function highlightActive(workId) {
//   const all = document.querySelectorAll('.work-link[data-work-id]');
//   all.forEach(el => el.classList.remove(...ACTIVE_CLASSES));
//   const targets = document.querySelectorAll(`.work-link[data-work-id="${workId}"]`);
//   targets.forEach(el => el.classList.add(...ACTIVE_CLASSES));
// }
//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

// Normalize an id for data-work-id/href
function toId(title, idx){
  return (title || `work-${idx}`).toLowerCase()
    .replace(/[^a-z0-9]+/g,'-')
    .replace(/^-+|-+$/g,'') || `work-${idx}`;
}

// Centralized click → set current & render
function onSelectWork(idx, scrollIntoView=false){
  if (idx < 0 || idx >= works.length) return;
  current = idx;
  renderWork(current);
  const id = toId(works[current].title, current);
  highlightActive(id);
  // keep URL hash in sync for deep links (optional)
  try { history.replaceState(null, '', `#${id}`); } catch {}
  if (scrollIntoView) {
    const artCard = document.getElementById('artCard');
    artCard?.scrollIntoView({ behavior:'smooth', block:'start' });
  }
}

// ===== build: desktop sidebar (stacked cards) =====
if (sidebar) {
  sidebar.innerHTML = ""; // clear

  works.forEach((w, i) => {
    const id = toId(w.title, i);

    // build "2025 • Digital-Oil-style" safely
    const metaParts = [];
    if (w.year) metaParts.push(String(w.year));
    if (w.style) metaParts.push(w.style);
    const meta = metaParts.join(" • ");

    const a = document.createElement("a");
    a.href = `#${id}`;
    a.dataset.workId = id;

    // gallery-style row
  a.className =
  "work-link relative flex items-center gap-4 py-3 px-3 rounded-xl cursor-pointer \
   ring-1 ring-white/10 bg-white/5 hover:bg-white/10 hover:ring-white/20 \
   transition-colors transition-shadow duration-200 will-change-transform";


    a.innerHTML = `
    <div class="thumb relative z-10 rounded-xl ring-1 ring-white/15 overflow-hidden flex-shrink-0">
      <img src="${w.img}" loading="lazy"
          class="h-16 w-16 object-cover"
          alt="${w.title ? w.title.replace(/"/g,'&quot;') : 'Artwork'}">
    </div>

    <div class="min-w-0">
      <div class="serif font-medium text-white truncate" title="${w.title || ''}">
        ${w.title || 'Untitled'}
      </div>

      <div class="text-xs text-white/75 mt-1 flex items-center gap-2">
        ${meta ? meta.split(" • ").map((s, idx) =>
          idx === 0 ? `<span>${s}</span>` : `<span>•</span><span>${s}</span>`
        ).join("") : ""}
      </div>
    </div>
  `;


    a.addEventListener("click", (e) => {
      e.preventDefault();
      onSelectWork(i, /*scrollIntoView*/ window.innerWidth < 1024);
    });

    sidebar.appendChild(a);
  });
}


// ===== build: mobile strip (horizontal cards) — optional =====
// Add <section id="mobileStrip" class="block lg:hidden mt-4"></section> in your HTML if you want this.
if (mobileStrip) {
  mobileStrip.innerHTML = ""; // clear
  // header
  const h = document.createElement('h3');
  h.className = "serif text-base mb-2 px-1";
  h.textContent = "All works in this collection";
  mobileStrip.appendChild(h);

  // wrapper with gradient edges
  const wrapper = document.createElement('div');
  wrapper.className = "relative";
  wrapper.innerHTML = `
    <div class="pointer-events-none absolute inset-y-0 left-0 w-6 bg-gradient-to-r from-[#0b5db3]/40 to-transparent rounded-l-xl"></div>
    <div class="pointer-events-none absolute inset-y-0 right-0 w-6 bg-gradient-to-l from-[#0b5db3]/40 to-transparent rounded-r-xl"></div>
  `;
  const ul = document.createElement('ul');
  ul.className = "flex gap-3 overflow-x-auto snap-x snap-mandatory px-1 pb-2 [-ms-overflow-style:none] [scrollbar-width:none]";
  ul.style.webkitOverflowScrolling = "touch";
  // hide scrollbar (webkit)
  const style = document.createElement('style');
  style.textContent = `ul::-webkit-scrollbar{display:none}`;
  wrapper.appendChild(style);

  works.forEach((w, i) => {
    const id = toId(w.title, i);
    const li = document.createElement('li');
    li.className = "min-w-[220px] snap-start";
    li.innerHTML = `
      <a href="#${id}" data-work-id="${id}" class="work-link flex items-center gap-3 p-2 rounded-xl bg-white/5 hover:bg-white/10 transition ring-1 ring-white/10">
        <img src="${w.img}" loading="lazy"
             class="h-14 w-14 rounded-lg object-cover flex-shrink-0 ring-1 ring-white/20"
             alt="${w.title ? w.title.replace(/"/g,'&quot;') : 'Artwork'}" />
        <div class="min-w-0">
          <p class="text-sm font-medium truncate" title="${w.title || ''}">${w.title || 'Untitled'}</p>
          <p class="text-[11px] text-white/60">${w.year ?? ''} • ${w.style ?? ''}</p>
          <div class="flex gap-3 mt-1 text-[11px] text-blue-300">
            <span class="pointer-events-none">View</span><span>·</span>
            <a href="${w.links?.collect || '#'}" class="hover:underline">Collect</a>
          </div>
        </div>
      </a>
    `;
    // click wiring
    li.querySelector('a')?.addEventListener('click', (e) => {
      e.preventDefault();
      onSelectWork(i, /*scrollIntoView*/ true);
    });
    ul.appendChild(li);
  });

  wrapper.appendChild(ul);
  mobileStrip.appendChild(wrapper);
}

// ===== initial highlight from hash (or current) =====
(function initSelectFromHash(){
  let startIdx = typeof current === 'number' ? current : 0;
  const hash = (location.hash || '').replace('#','').trim();
  if (hash) {
    const idx = works.findIndex((w, i) => toId(w.title, i) === hash);
    if (idx >= 0) startIdx = idx;
  }
  onSelectWork(startIdx, false);
})();



    // Nav buttons
    document.getElementById("prevBtn").onclick = () => {
        current = (current - 1 + works.length) % works.length;
        renderWork(current);
        syncActiveHighlight();
    };
    document.getElementById("nextBtn").onclick = () => {
        current = (current + 1) % works.length;
        renderWork(current);
        syncActiveHighlight();
    };

    // First paint: let the image fade in on load
    artImg.addEventListener("load", ()=>{
        animate(artImg, {opacity:0, scale:0.985}, {opacity:1, scale:1}, 0.45);
    }, { once:true });

    renderWork(current);


    // Header link intro animation (respects reduced motion)
(function animateHeaderLinks(){
  const back = document.getElementById('backLink');
  const next = document.getElementById('nextLink');
  if (!back || !next) return;

  if (prefersReduced) {
    // ensure visible without motion
    gsap.set([back, next], { opacity: 1, y: 0 });
    return;
  }

  gsap.from([back, next], {
    opacity: 0,
    y: -6,
    duration: 0.45,
    ease: "power2.out",
    stagger: 0.06
  });
})();

    </script>


</body>
</html>
