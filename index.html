
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Something</title>

  <!-- TailWind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500&display=swap" rel="stylesheet">

  <style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}
html,body{height:100%;color:beige;scroll-behavior:smooth}

/* Headings / display */
h1,h2,h3,h4,#title,.about-link,.overlay-text,.mobile_about_header,.mobile_about_collections_header,#cta{font-family:'Playfair Display',serif}

/* Body background */
body{
  min-height:100dvh;
  display:flex; flex-direction:column;
  background-image:linear-gradient(rgba(0,86,184,.375),rgba(0,86,184,.512)),url('./img/larger_about_background.png');
  background-position:center; background-repeat:no-repeat; background-size:cover; background-attachment:fixed;
}

/* Mobile: avoid fixed backgrounds for smoother scroll */
@media (max-width:768px){
  body{background-attachment:scroll}
}

h2{margin-top:1.5rem;width:100%;text-align:left}
p{margin-bottom:1.2rem}

/* ABOUT SECTION */
section.mobile_about{flex:1 0 auto;display:flex;flex-direction:column;min-height:0}
.mobile_about{
  width:100%;
  background-image:linear-gradient(rgba(0,86,184,.375),rgba(0,86,184,.512)),url('./img/even_larger_about_background.png');
  background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;color:white
}
.mobile_about_container{max-width:100%;margin:0 auto}
.mobile_about_header{text-align:left;font-size:1.5rem;font-weight:bold;padding-left:1rem}
.mobile_about_portion,.mobile_about_paragraph{margin-bottom:15px;line-height:1.6;padding:0 1rem}

/* Hide the short paragraph by default on desktop (you show the long one) */
@media (min-width:1025px){.mobile_about_portion{display:none}.mobile_about_paragraph{display:block}}

/* COLLECTIONS */
#collections{margin-top:-3rem;width:100%}
.collections-title{font-size:1.3rem}

/* Card base (anchors with .group) */
#collections a.group{
  position:relative; display:block;
  border-radius:16px; overflow:hidden;
  background:rgba(255,255,255,.05); -webkit-backdrop-filter:blur(4px); backdrop-filter:blur(4px);
  outline:1px solid rgba(255,255,255,.10); transition:outline-color .2s ease, transform .2s ease;
}
#collections a.group:hover{outline-color:rgba(255,255,255,.25); transform:translateY(-2px)}

/* Full-bleed image */
#collections a.group > img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
#collections a.group > .absolute.inset-0{transition:background-color .2s ease}

/* Unified type scale inside cards (single source of truth) */
.collection-title{
  font-family:'Playfair Display',serif; font-weight:400;
  font-size:clamp(15px,1vw,18px);
  line-height:1.25; color:rgba(255,255,255,.95); margin-bottom:.25rem; letter-spacing:.2px;
}
.collection-description{
  font-family:'Times New Roman',Times,serif; font-weight:400;
  font-size:clamp(12px,.9vw,14px); line-height:1.35; color:rgba(255,255,255,.65); margin-bottom:.4rem;
}
.works-include{
  font-family:'Times New Roman',Times,serif; font-size:clamp(11px,.8vw,13px);
  font-weight:500; text-transform:uppercase; letter-spacing:.5px; color:rgba(255,255,255,.55); margin-bottom:.15rem;
}
.flashing-title{font-family:'Times New Roman',Times,serif;font-size:clamp(12px,1vw,15px);font-weight:400;color:rgba(255,255,255,.55)}

/* Divider line that fades only on right */
#collections a.group .relative.z-10 ul{
  margin-top:.35rem; padding-top:.45rem; position:relative
}
#collections a.group .relative.z-10 ul::before{
  content:""; position:absolute; top:0; left:0; right:0; height:1px;
  background:linear-gradient(to right, rgba(255,255,255,.25) 0%, rgba(255,255,255,.25) 80%, rgba(255,255,255,0) 100%);
  opacity:.6; pointer-events:none
}
@media (max-width:480px){
  #collections a.group .relative.z-10 ul::before{
    background:linear-gradient(to right, rgba(255,255,255,.25) 0%, rgba(255,255,255,.25) 50%, rgba(255,255,255,0) 100%)
  }
}

/* Reveal animations (kept) */
.reveal-card{opacity:0; transform:translateY(10px); transition:opacity .8s ease, transform .8s ease; will-change:transform,opacity}
.reveal-left{transform:translateX(-28px) translateY(10px)}
.reveal-right{transform:translateX(28px) translateY(10px)}
.reveal-card.visible{opacity:1; transform:translateX(0) translateY(0)}
@media (prefers-reduced-motion:reduce){.reveal-card,.reveal-left,.reveal-right{transition:none;transform:none;opacity:1}}

/* HERO */
.mobile_hero{height:100vh; background:url('./img/plain_background_bigger.png') center/cover no-repeat}
.mobile_hero_container{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:6em;height:100%}
.hero_phrase{font-size:1.5rem;font-family:'Playfair Display',serif;text-align:center;margin-top:10px}
.about-link{background:#0057B8;color:white;padding:10px 20px;border-radius:5px;font-size:1rem;text-decoration:none;transition:transform .3s ease, background-color .3s ease}
.fade-in{opacity:0;transform:translateY(10px);transition:opacity .6s ease, transform .6s ease}
.fade-in.visible{opacity:1;transform:none}
.about-card{opacity:0;transform:scale(.96);transition:opacity .6s ease, transform .6s ease}
.about-card.visible{opacity:1;transform:scale(1)}
#collections a.group:focus-visible{outline:2px solid rgba(255,255,255,.6);outline-offset:6px;border-radius:16px}

/* Mobile tuning */
@media (max-width:768px){
  body{height:auto;min-height:100dvh}
  section.mobile_about{padding:15px;overflow:visible;min-height:100svh;border-top:1px solid transparent}
  @supports (min-height:100dvh){section.mobile_about{min-height:100dvh}}
  .mobile_about_header{margin-top:1em}
  .first-collect-row-mobile{gap:12px;padding-left:5px;padding-right:5px}
  #collections{padding-left:12px;padding-right:12px}
}
@media (max-width:480px){
  .collection-card{flex:0 0 85vw !important;height:55vh !important;min-height:0 !important}
  .overlay-text{font-size:.95rem;padding:10px 8px;opacity:.6}
}

/* Optional mobile gallery scroll snap (if you keep it) */
.first-collect-row-mobile{scroll-snap-type:x mandatory}
.collection-card{scroll-snap-align:start}

/* Hide long about paragraph on small screens */
@media (max-width:1024px){.mobile_about_paragraph{display:none}}

/* DESKTOP ENHANCEMENTS */
@media (min-width:1025px){
  .mobile_hero_container{margin-top:-60px;gap:5em}
  .about-link{padding:12px 24px;border-radius:6px;font-size:1.1rem}
  .mobile_about{padding:3em;height:100vh}
  .group{max-width:1000px;height:auto}
  :root{--cc-gap:.75rem;--content-max:72rem;--content-pad:1rem}
  .mobile_about_container,#collections{
    max-width:var(--content-max);
    margin-inline:auto;
    padding-inline:var(--content-pad)
  }
}

/* DESKTOP CAROUSEL */
@media (min-width:1025px){
  #collections .collections-carousel{position:relative}
  #collections .cc-viewport{position:relative;overflow:hidden;width:100%}
  #collections .cc-track{display:flex;gap:var(--cc-gap);will-change:transform;scroll-behavior:smooth}
  #collections .cc-track > a.group{
    flex:0 0 calc((100% - (2 * var(--cc-gap))) / 3);
    max-width:calc((100% - (2 * var(--cc-gap))) / 3);
    height:360px;
  }
  #collections .cc-controls{
    position:absolute; top:-24px; right:0; display:flex; gap:.75rem; z-index:10; pointer-events:none
  }
  #collections .cc-controls .cc-arrow{
    pointer-events:auto; width:48px; height:48px; border-radius:999px; display:grid; place-items:center; cursor:pointer;
    background:rgba(255,255,255,.14); border:1px solid rgba(255,255,255,.28); backdrop-filter:blur(8px);
    box-shadow:0 10px 28px rgba(0,0,0,.28), inset 0 0 0 1px rgba(255,255,255,.08);
    transition:transform .15s ease, background-color .15s ease, box-shadow .2s ease, opacity .2s ease; opacity:.95
  }
  #collections .cc-controls .cc-arrow:hover{
    background:rgba(255,255,255,.20); transform:translateY(-1px);
    box-shadow:0 14px 32px rgba(0,0,0,.32), inset 0 0 0 1px rgba(255,255,255,.12)
  }
  #collections .cc-controls .cc-arrow:active{transform:translateY(0) scale(.98)}
  #collections .cc-controls .cc-arrow:disabled{opacity:.38;cursor:default}
  #collections .cc-controls .cc-arrow svg{width:22px;height:22px;stroke:#EAF2FF;stroke-width:2.25;fill:none}
  #collections .cc-controls .cc-arrow:disabled svg{stroke:#D7E2FF}
  #collections .cc-controls .cc-arrow:focus-visible{
    outline:none; box-shadow:0 0 0 3px rgba(255,255,255,.45), 0 10px 28px rgba(0,0,0,.28), inset 0 0 0 1px rgba(255,255,255,.12)
  }
}

/* FOOTER */
footer{
  text-align:center; margin-top:auto; border-radius:5px;
  padding:2rem 1rem; border-top:1px solid rgba(255,255,255,.2);
  background:linear-gradient(to bottom,#114C92,#022A54);
  color:#EAEFF7;
}
@media (min-width:1025px){
  footer{padding-block:2.75rem}
}
button{background:none;border:none;color:white;cursor:pointer;font-size:1rem;padding:0;margin-top:.5rem;text-decoration:underline;font-weight:bold}
  </style>
</head>
<body>

  <!-- HOME/HERO SECTION -->
  <section id="mobile_hero" class="mobile_hero">
    <div class="mobile_hero_container">
      <img src="./img/hero_logo.png" class="hero_logo" alt="dream_agent">
      <p class="hero_phrase hero-animate fade-in">Machine dreams in Metaphor</p>
      <a class="about-link hero-animate fade-in" id="cta" href="#mobile_about">Enter the Realm</a>
    </div>
  </section>

  <!-- ABOUT SECTION MOBILE/TABLET -->
  <section id="mobile_about" class="mobile_about">
    <div class="mobile_about_container">
      <h1 class="mobile_about_header">Who is Dream Agent?</h1>

      <p class="mobile_about_portion">
        Emerging from the shadows of the digital realm, Dream Agent exists not as a face,
        but as a surrealist force. A curator of machine hallucinations who....
        <button class="read_more"><b>Read More</b></button>
      </p>

      <p class="mobile_about_paragraph">
        Emerging from the shadows of the digital realm, Dream Agent exists not as a face,
        but as a surrealist force. A curator of machine hallucinations who paints with prompts and sculpts
        meaning from code. Operating anonymously, they transform AI-generated art into deeply symbolic worlds.
        Each piece is less a picture and more a portal—one that invites viewers to question,
        decode, and reflect.
      </p>

      <!-- DIVIDER -->
      <div class="w-40 sm:w-56 h-[2px] bg-white/30 mx-auto my-6 sm:my-10 lg:my-12 rounded-full shadow-[0_0_8px_rgba(255,255,255,0.4)] transition-transform duration-700 ease-out opacity-0 scale-x-0 mt-12 mb-2" id="mobile-about-divider"></div>

      <section id="collections" class="mx-auto py-10 space-y-8">
        <h2 class="collections-title font-semibold mb-2">Explore the Collections</h2>

        <!-- SYMBOLS IN MOTION -->
        <a href="/collections/symbols-in-motion"
           class="group block relative rounded-2xl overflow-hidden bg-white/5 backdrop-blur-sm ring-1 ring-white/10 hover:ring-white/25 transition reveal-card reveal-left">
          <img src="./img/collections/Symbols in Motion.png" alt="Symbols in Motion" loading="lazy" decoding="async" class="w-full h-full object-cover absolute inset-0" />
          <div class="absolute inset-0 bg-black/40 group-hover:bg-black/30 transition"></div>
          <div class="relative z-10 p-5 md:p-6 flex flex-col justify-end h-full">
            <h3 class="text-lg sm:text-xl font-normal mb-1 collection-title">Symbols in Motion</h3>
            <p class="text-sm sm:text-base text-neutral-200/90 collection-description">Recurring signs caught in perpetual drift.</p>
            <ul class="mt-2 space-y-1 text-sm text-neutral-300">
              <li class="font-semibold works-include">Works include:</li>
              <li id="symbol-title" class="flashing-title" aria-hidden="true"></li>
            </ul>
          </div>
        </a>

        <!-- SIGNALS AND ASCENSIONS -->
        <a href="/collections/signals-ascensions"
           class="group block relative rounded-2xl overflow-hidden bg-white/5 backdrop-blur-sm ring-1 ring-white/10 hover:ring-white/25 transition reveal-card reveal-left">
          <img src="./img/collections/Signals and Ascensions.png" alt="Signals &amp; Ascensions" loading="lazy" decoding="async" class="w-full h-full object-cover absolute inset-0" />
          <div class="absolute inset-0 bg-black/40 group-hover:bg-black/30 transition"></div>
          <div class="relative z-10 p-5 md:p-6 flex flex-col justify-end h-full">
            <h3 class="text-lg sm:text-xl font-normal mb-1 collection-title">Signals &amp; Ascensions</h3>
            <p class="text-sm sm:text-base text-neutral-200/90 collection-description">Messages in transit between epochs.</p>
            <ul class="mt-2 space-y-1 text-sm text-neutral-300">
              <li class="font-semibold works-include">Works include:</li>
              <li id="signal-title" class="flashing-title" aria-hidden="true"></li>
            </ul>
          </div>
        </a>

        <!-- WAR AND FEAST -->
        <a href="/collections/war-feast"
           class="group block relative rounded-2xl overflow-hidden bg-white/5 backdrop-blur-sm ring-1 ring-white/10 hover:ring-white/25 transition reveal-card reveal-left">
          <img src="./img/collections/Dominion Archives.png" alt="Dominion Archives" loading="lazy" decoding="async" class="w-full h-full object-cover absolute inset-0" />
          <div class="absolute inset-0 bg-black/40 group-hover:bg-black/30 transition"></div>
          <div class="relative z-10 p-5 md:p-6 flex flex-col justify-end h-full">
            <h3 class="text-lg sm:text-xl font-normal mb-1 collection-title">War &amp; Feast</h3>
            <p class="text-sm sm:text-base text-neutral-200/90 collection-description">Conflict, appetite, and ceremonial excess.</p>
            <ul class="mt-2 space-y-1 text-sm text-neutral-300">
              <li class="font-semibold works-include">Works include:</li>
              <li id="war-title" class="flashing-title" aria-hidden="true"></li>
            </ul>
          </div>
        </a>

        <!-- INDUSTRIAL MYTHS -->
        <a href="/collections/industrial-myths"
           class="group block relative rounded-2xl overflow-hidden bg-white/5 backdrop-blur-sm ring-1 ring-white/10 hover:ring-white/25 transition reveal-card reveal-left">
          <img src="./img/collections/Symbols in Motion.png" alt="Industrial Myths" loading="lazy" decoding="async" class="w-full h-full object-cover absolute inset-0" />
          <div class="absolute inset-0 bg-black/40 group-hover:bg-black/30 transition"></div>
          <div class="relative z-10 p-5 md:p-6 flex flex-col justify-end h-full">
            <h3 class="text-lg sm:text-xl font-normal mb-1 collection-title">Industrial Myths</h3>
            <p class="text-sm sm:text-base text-neutral-200/90 collection-description">A surreal meditation on machines, labor, and digital systems reimagined.</p>
            <ul class="mt-2 space-y-1 text-sm text-neutral-300">
              <li class="font-semibold works-include">Works include:</li>
              <li id="industrial-title" class="flashing-title" aria-hidden="true"></li>
            </ul>
          </div>
        </a>

        <!-- DIGITAL UNCONSCIOUS -->
        <a href="/collections/digital-unconscious"
           class="group block relative rounded-2xl overflow-hidden bg-white/5 backdrop-blur-sm ring-1 ring-white/10 hover:ring-white/25 transition reveal-card reveal-left">
          <img src="./img/collections/Signals and Ascensions.png" alt="The Digital Unconscious" loading="lazy" decoding="async" class="w-full h-full object-cover absolute inset-0" />
          <div class="absolute inset-0 bg-black/40 group-hover:bg-black/30 transition"></div>
          <div class="relative z-10 p-5 md:p-6 flex flex-col justify-end h-full">
            <h3 class="text-lg sm:text-xl font-normal mb-1 collection-title">The Digital Unconscious</h3>
            <p class="text-sm sm:text-base text-neutral-200/90 collection-description">Where AI dreams and data remembers.</p>
            <ul class="mt-2 space-y-1 text-sm text-neutral-300">
              <li class="font-semibold works-include">Works include:</li>
              <li id="digital-title" class="flashing-title" aria-hidden="true"></li>
            </ul>
          </div>
        </a>

        <!-- DOMINION ARCHIVE -->
        <a href="/collections/dominion-archive"
           class="group block relative rounded-2xl overflow-hidden bg-white/5 backdrop-blur-sm ring-1 ring-white/10 hover:ring-white/25 transition reveal-card reveal-left">
          <img src="./img/collections/Dominion Archives.png" alt="The Dominion Archive" loading="lazy" decoding="async" class="w-full h-full object-cover absolute inset-0" />
          <div class="absolute inset-0 bg-black/40 group-hover:bg-black/30 transition"></div>
          <div class="relative z-10 p-5 md:p-6 flex flex-col justify-end h-full">
            <h3 class="text-lg sm:text-xl font-normal mb-1 collection-title">The Dominion Archive</h3>
            <p class="text-sm sm:text-base text-neutral-200/90 collection-description">Power recorded, repackaged, ritualized.</p>
            <div class="card-divider"></div>
            <ul class="mt-2 space-y-1 text-sm text-neutral-300">
              <li class="font-semibold works-include">Works include:</li>
              <li id="dominion-title" class="flashing-title" aria-hidden="true"></li>
            </ul>
          </div>
        </a>
      </section>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="mobile_about_container py-6 sm:py-4">
      <div class="footer_icons flex flex-col sm:flex-row items-center w-full sm:justify-between">
        <div class="sm:flex sm:flex-col sm:gap-4">
          <p class="hidden sm:block text-sm text-center">No face, No fame, just the vision</p>
          <div class="logo flex items-center gap-5 mb-2 p-1">
            <img src="./img/logos/DreamAgent Logo 11.png" alt="dream_agent-logo" class="w-[50px] h-[50px] rounded-full border border-white/10" />
            <img src="./img/round_logos/twitter_black_circle.png" alt="twitter-logo" class="w-[40px] h-[40px] border-white/10" />
            <img src="./img/round_logos/instagram_red_circle.png" alt="instagram-logo" class="w-[42px] h-[42px] border-white/10" />
            <img src="./img/round_logos/bluesky_liteblue_circle.png" alt="bluesky-logo" class="w-[42px] h-[42px] border-white/10" />
            <img src="./img/round_logos/tiktok_black_circle.png" alt="tiktok-logo" class="w-[42px] h-[42px] border-white/10" />
          </div>
        </div>

        <!-- NFTs (hidden on mobile, visible ≥sm) -->
        <div class="hidden sm:flex sm:flex-col sm:items-center sm:gap-4">
          <p class="text-sm text-center">Buy the NFTs:</p>
          <div class="nft_icons flex items-center justify-center gap-5 p-1">
            <a href="#" aria-label="Buy on XRP Café"><img src="./img/round_logos/xrpcafe_circle.png" alt="xrp_cafe" class="w-[42px] h-[42px]" /></a>
            <a href="#" aria-label="Buy on OpenSea"><img src="./img/round_logos/opensea_circle.png" alt="opensea" class="w-[42px] h-[42px]" /></a>
            <a href="#" aria-label="Buy on SuperRare"><img src="./img/round_logos/superrare_circle.png" alt="super_rare" class="w-[42px] h-[42px]" /></a>
          </div>
        </div>
      </div>

      <p style="text-align:center;font-size:.8rem;color:#ccc;">&copy; 2023 Dream Agent. All rights reserved.</p>
    </div>
  </footer>

  <script>
  // Smooth scroll behavior
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      e.preventDefault();
      document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
    });
  });

  // Animate hero phrase & CTA
  gsap.to(".hero_phrase", { opacity:1, y:0, duration:1, delay:1.2 });
  gsap.to("#cta",         { opacity:1, y:0, duration:1, delay:1.5 });

  // Fade-ins on hero
  const fadeIns = document.querySelectorAll('.fade-in');
  const fadeInObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (!entry.isIntersecting) return;
      entry.target.classList.add('visible');
      fadeInObserver.unobserve(entry.target);
    });
  }, { threshold: 0.1 });
  fadeIns.forEach(el => fadeInObserver.observe(el));

  // Read More toggle
  (function(){
    const portion = document.querySelector('.mobile_about_portion');
    const full = document.querySelector('.mobile_about_paragraph');
    if (!portion || !full) return;
    const btn = portion.querySelector('button');
    if (!btn) return;

    btn.addEventListener('click', function() {
      const lessBtnExisting = full.querySelector('button');
      portion.style.display = 'none';
      full.style.display = 'block';
      if (!lessBtnExisting) {
        const lessBtn = document.createElement('button');
        lessBtn.innerHTML = '<b>Read Less</b>';
        lessBtn.onclick = () => {
          full.style.display = 'none';
          portion.style.display = 'block';
          btn.innerHTML = '<b>Read More</b>';
        };
        full.appendChild(lessBtn);
      }
    });
  })();

  // Mobile divider reveal
  (function(){
    const mobileDivider = document.getElementById('mobile-about-divider');
    if (!mobileDivider) return;
    const obs = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        mobileDivider.classList.add('visible');
        mobileDivider.classList.remove('opacity-0', 'scale-x-0');
        mobileDivider.classList.add('opacity-100', 'scale-x-100', 'animate-pulse');
        obs.unobserve(mobileDivider);
      });
    }, { threshold: 0.5 });
    obs.observe(mobileDivider);
  })();

  // Ensure CTA always points to about
  const cta = document.getElementById('cta');
  function updateCTALink(){ cta.setAttribute('href','#mobile_about'); }
  window.addEventListener('resize', updateCTALink);
  updateCTALink();

  // Reveal cards on scroll (GSAP if available, else CSS fallback)
  (function() {
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const cards = Array.from(document.querySelectorAll('#collections .reveal-card'));
    if (!cards.length) return;
    if (prefersReduced) { cards.forEach(el => el.classList.add('visible')); return; }
    const useGSAP = typeof gsap !== 'undefined';
    const io = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (!entry.isIntersecting) return;
        const el = entry.target;
        io.unobserve(el);
        const fromX = el.classList.contains('reveal-left') ? -28 : 28;
        if (useGSAP) {
          gsap.fromTo(el,{opacity:0,x:fromX,y:10},{opacity:1,x:0,y:0,duration:.85,ease:'power2.out'});
        } else {
          requestAnimationFrame(() => el.classList.add('visible'));
        }
      });
    }, { threshold: 0.22 });
    cards.forEach((el, i) => { setTimeout(() => io.observe(el), i * 70); });
  })();

  // One rotator with a subtle fade class (no duplicate names)
  function rotateTitles(el, titles, intervalMs = 3000) {
    if (!el || !Array.isArray(titles) || !titles.length) return;
    el.classList.add("rotator-fade");
    let i = 0;
    const show = () => {
      el.textContent = titles[i];
      el.classList.remove("rotator-hidden");
      i = (i + 1) % titles.length;
    };
    // initial paint
    show();
    setInterval(() => {
      el.classList.add("rotator-hidden");
      setTimeout(show, 350); // match CSS fade time
    }, intervalMs);
  }

  // Title rotators
  document.addEventListener("DOMContentLoaded", () => {
    rotateTitles(document.getElementById("symbol-title"), [
      "Hollywood Moderne","Sephardic Tango","Crypto Fish Tank",
      "The Rusher, The Incrementer and..","Rinse and Repeat"
    ], 3000);

    rotateTitles(document.getElementById("signal-title"), [
      "Revolutionary Balloon","The Magic of ’86","Bitcoin 2017","Hip Hop 1978","The Biblicals"
    ], 3000);

    rotateTitles(document.getElementById("war-title"), [
      "Coeur of the Grapes","The Wine Wars","Some Things Were Meant to..."
    ], 3000);

    rotateTitles(document.getElementById("industrial-title"), [
      "The Cursor of Fate","The Future of Industry","The Fear Room","The Great Divide"
    ], 3000);

    rotateTitles(document.getElementById("digital-title"), [
      "Internet of the Old World","Internet of the Middle World","Internet of the New World",
      "Prince Carl laying in front of the TV...."
    ], 3000);

    rotateTitles(document.getElementById("dominion-title"), [
      "Bottling the Republic","Discovery of the Indigenous","The Refactoring Ritual",
      "The Census Ritual","Etch the Empire"
    ], 3000);
  });

  // Desktop carousel logic
  (function(){
    const mq = window.matchMedia('(min-width: 1025px)');
    const collections = document.querySelector('#collections');
    if (!collections) return;

    const cardSelector = ':scope > a.group';
    let shell = null, viewport = null, track = null, prevBtn = null, nextBtn = null;
    let cardsCache = [];

    function enableDesktopCarousel() {
      if (shell) return;
      cardsCache = Array.from(collections.querySelectorAll(cardSelector));
      if (!cardsCache.length) return;

      shell = document.createElement('div');
      shell.className = 'collections-carousel';

      viewport = document.createElement('div');
      viewport.className = 'cc-viewport';

      track = document.createElement('div');
      track.className = 'cc-track';

      const controls = document.createElement('div');
      controls.className = 'cc-controls';

      prevBtn = document.createElement('button');
      prevBtn.className = 'cc-arrow cc-prev';
      prevBtn.setAttribute('type','button');
      prevBtn.setAttribute('aria-label','Previous collections');
      prevBtn.innerHTML = `<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15 5 L8 12 L15 19" /></svg>`;

      nextBtn = document.createElement('button');
      nextBtn.className = 'cc-arrow cc-next';
      nextBtn.setAttribute('type','button');
      nextBtn.setAttribute('aria-label','Next collections');
      nextBtn.innerHTML = `<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M9 5 L16 12 L9 19" /></svg>`;

      controls.appendChild(prevBtn);
      controls.appendChild(nextBtn);

      viewport.appendChild(track);
      shell.appendChild(viewport);
      shell.appendChild(controls);

      const heading = collections.querySelector('h2');
      if (heading && heading.nextSibling) {
        collections.insertBefore(shell, heading.nextSibling.nextSibling || heading.nextSibling);
      } else {
        collections.appendChild(shell);
      }

      cardsCache.forEach(card => track.appendChild(card));

      initControls();
      updateArrows();
    }

    function disableDesktopCarousel() {
      if (!shell) return;
      const anchor = shell;
      cardsCache.forEach(card => collections.insertBefore(card, anchor));
      shell.remove();
      shell = viewport = track = prevBtn = nextBtn = null;
    }

    function isDesktop(){ return mq.matches; }

    function getStep(){
      if (!track) return 0;
      const style = getComputedStyle(track);
      const gap = parseFloat(style.columnGap || style.gap || 0);
      const card = track.querySelector('a.group');
      if (!card) return 0;
      const w = card.getBoundingClientRect().width;
      return w + gap;
    }

    function clamp(v,min,max){ return Math.max(min, Math.min(max, v)); }

    function updateArrows(){
      if (!track || !viewport) return;
      const maxScroll = track.scrollWidth - viewport.clientWidth;
      if (prevBtn) prevBtn.disabled = track.scrollLeft <= 2;
      if (nextBtn) nextBtn.disabled = track.scrollLeft >= (maxScroll - 2);
    }

    function scrollByCards(dir = 1, count = 1){
      if (!track || !viewport) return;
      const step = getStep() * count;
      const maxScroll = track.scrollWidth - viewport.clientWidth;
      const target = clamp(track.scrollLeft + dir * step, 0, maxScroll);
      track.scrollTo({ left: target, behavior: 'smooth' });
    }

    function initControls(){
      if (!prevBtn || !nextBtn || !track) return;
      prevBtn.addEventListener('click', () => scrollByCards(-1, 1));
      nextBtn.addEventListener('click', () => scrollByCards( 1, 1));
      track.addEventListener('scroll', updateArrows, { passive: true });
      window.addEventListener('resize', updateArrows);

      // Keyboard navigation when focused/hovering in section
      document.addEventListener('keydown', (e) => {
        if (!isDesktop() || !shell) return;
        const within = document.activeElement.closest?.('#collections') || document.querySelector('#collections:hover');
        if (!within) return;
        if (e.key === 'ArrowRight') { e.preventDefault(); scrollByCards(1, 1); }
        if (e.key === 'ArrowLeft')  { e.preventDefault(); scrollByCards(-1, 1); }
      });
    }

    function handleChange(){ isDesktop() ? enableDesktopCarousel() : disableDesktopCarousel(); }
    handleChange();
    mq.addEventListener('change', handleChange);
  })();
  </script>
</body>
</html>